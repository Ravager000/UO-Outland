# "***Bapeths Modern Dungeon Picker***"

# "Loot-Sense & Vacuum Mode"
# This function will overhead display *loot* above items on the ground and pick them up as you pass by (2 tiles)
# Be aware that this may make you overweight from large gold piles from time to time
# To toggle this feature on/off (default is off) "Double click a Wizard Grimoire"

# "Script Starts Here"


if not timerexists lootvacuumswitch
    if gumpexists 1281623709
        gumpclose 1281623709
        createtimer lootvacuumswitch
        settimer lootvacuumswitch 15000
        overhead "--Loot Vacuum Enabled--" 2085
    endif
endif
if timerexists lootvacuumswitch
    if gumpexists 1281623709
        gumpclose 1281623709
        removetimer lootvacuumswitch
        overhead "--Loot Vacuum Disabled--" 1779
    endif
endif

if timerexists lootvacuumswitch
    if timer lootvacuumswitch >= 9000
        if not timerexists lootsensetimer
            createtimer lootsensetimer
            settimer lootsensetimer 1000
        endif
        if timer lootsensetimer >= 1000
            for 18
                while findtype 3827 ground 0 as zeroscroll
                    @ignore zeroscroll
                endwhile
                while findtype 7154 ground 0 as zeroingot
                    @ignore zeroingot
                endwhile
                while findtype 4225 ground 0 as zeroleather
                    @ignore zeroleather
                endwhile
                while findtype 7127 ground 0 as zeroboard
                    @ignore zeroboard
                endwhile
                while findtype 7154 ground 2419 as zeroingot
                    @ignore zeroingot
                endwhile
                while findtype 4225 ground 2419 as zeroleather
                    @ignore zeroleather
                endwhile
                while findtype 7127 ground 2419 as zeroboard
                    @ignore zeroboard
                endwhile
                while findtype 7154 ground 2406 as zeroingot
                    @ignore zeroingot
                endwhile
                while findtype 4225 ground 2406 as zeroleather
                    @ignore zeroleather
                endwhile
                while findtype 7127 ground 2406 as zeroboard
                    @ignore zeroboard
                endwhile
                while findtype 7154 ground 2413 as zeroingot
                    @ignore zeroingot
                endwhile
                while findtype 4225 ground 2413 as zeroleather
                    @ignore zeroleather
                endwhile
                while findtype 7127 ground 2413 as zeroboard
                    @ignore zeroboard
                endwhile
                while findtype 7154 ground 2418 as zeroingot
                    @ignore zeroingot
                endwhile
                while findtype 4225 ground 2418 as zeroleather
                    @ignore zeroleather
                endwhile
                while findtype 7127 ground 2418 as zeroboard
                    @ignore zeroboard
                endwhile
                while findtype 7154 ground 2213 as zeroingot  
                    @ignore zeroingot
                endwhile
                while findtype 4225 ground 2213 as zeroleather
                    @ignore zeroleather
                endwhile
                while findtype 7127 ground 2213 as zeroboard
                    @ignore zeroboard
                endwhile
                if index > 0 and findtype "43206|54230|44985|glass display|20049|Pig Iron|blackrock fragment|gargish fragment|18705|55247|49482|53694|54570|53696|53876|50612|55420|53280|53473|54831|50278|49528|bottle set|entrail bucket|mounted stalaghorn|sea glass bulb|juggling daggers|st patricks cross|divination orb|mirror display|murder of crows|charmed cobra|prodigy fiddle|wilting rose belljar|scale of balance|screaming mandrake|statue of the siren|the final hour|55204|specimen jars|bird cage|widows grief|54684|27612|49223|54591|54601|54718|19948|58325|19959|19822|49730|49729|19944|19949|47613|47612|47611|47610|47611|3986|3966|cathedral tapestry|Darkscale tapestry|large painting|landscape painting|portrait painting|figurine|statue|20291|44987|49730|47107|18653|45127|20103|47103|29363|47105|29361|43453|5899|47109|45250|41509|43447|18657|4025|51308|45156|51304|45214|28769|28799|28803|28765|45211|45248|51259|45220|51328|45218|3842|51327|45222|45241|51336|11858|51375|45282|54722|45255|45246|28795|44983|45235|45251|45238|51258|51314|28761|45236|51260|54718|18400|58325|45252|18656|47111|3839|45239|45242|45254|45281|45247|42241|45216|28775|51321|3838|51318|5901|5905|45259|5903|48407|51302|4248|27611|15296|43166|5359|5981|4026|3985|25359|17686|3836|17087|5356|29030|24434|22336|29036|3843|29025|51098|29034|8826|51094|576|3827|22326|45315|3891|2539|39898|39896|39892|39918|39911|39916|39897|39905|39891|39917|39912|39909|39889|31047|31017|31049|31019|31055|31051|31053|31025|31027|31031|31041|54717|31021|31011|31023|31029|31043|31003|31035|31033|31045|31037|31002|20006|31169|31006|30999|31012|31009|30996|7109|7107|31128|31188|20014|31014|31004|31142|31001|31000|37181|31010|30998|31172|30988|30997|31038|31141|7947|20008|31005|31191|31008|31007|30994|30993|31182|30989|20012|31186|31178|31015|30991|20010|20016|31184|31190|30990|30995|31176|31180|30992|31130|5207|7031|7026|7034|7033|7027|7035|7029|5078|5063|5059|5105|5060|5138|5129|5201|5142|5143|5076|5106|7610|5139|5090|5103|5132|7177|5061|7181|7179|3920|5042|5127|5117|5185|5125|3938|5177|3937|5044|5121|3915|3909|3568|3932|5123|5144|5119|5056|5135|5187|5074|5089|3934|3913|3917|3721|5075|5046|5049|7170|5146|5205|5203|5115|5204|5040|5179|5070|5182|5085|5181|3719|7173|5131|3911|5101|7175|7169|3713|5112|22187|9917|3859|3862|3878|3865|3856|3873|3877|3834|3742|3762|3740|3763|10245|3572|3573|3571|3885|12686|19985|19981|19984|19982|19983|19991|19989|19986|19987|19988|19994|19995|19992|19993|19990|19980|19977|19976|19978|19979|43423|7154|4225|7127|3861" ground -1 -1 index as lootlocation
                    overhead "*loot*" 2091 lootlocation
                    @ignore lootlocation
                endif
                if warmode
                    break
                endif
            endfor
            @clearignore 
            settimer lootsensetimer 0
        endif
        while findtype 3827 ground 0 as zeroscroll
            @ignore zeroscroll
        endwhile
        while findtype 7154 ground 0 as zeroingot
            @ignore zeroingot
        endwhile
        while findtype 4225 ground 0 as zeroleather
            @ignore zeroleather
        endwhile
        while findtype 7127 ground 0 as zeroboard
            @ignore zeroboard
        endwhile
        while findtype 7154 ground 2419 as zeroingot
            @ignore zeroingot
        endwhile
        while findtype 4225 ground 2419 as zeroleather
            @ignore zeroleather
        endwhile
        while findtype 7127 ground 2419 as zeroboard
            @ignore zeroboard
        endwhile
        while findtype 7154 ground 2406 as zeroingot
            @ignore zeroingot
        endwhile
        while findtype 4225 ground 2406 as zeroleather
            @ignore zeroleather
        endwhile
        while findtype 7127 ground 2406 as zeroboard
            @ignore zeroboard
        endwhile
        while findtype 7154 ground 2413 as zeroingot
            @ignore zeroingot
        endwhile
        while findtype 4225 ground 2413 as zeroleather
            @ignore zeroleather
        endwhile
        while findtype 7127 ground 2413 as zeroboard
            @ignore zeroboard
        endwhile
        while findtype 7154 ground 2418 as zeroingot
            @ignore zeroingot
        endwhile
        while findtype 4225 ground 2418 as zeroleather
            @ignore zeroleather
        endwhile
        while findtype 7127 ground 2418 as zeroboard
            @ignore zeroboard
        endwhile
        while findtype 7154 ground 2213 as zeroingot  
            @ignore zeroingot
        endwhile
        while findtype 4225 ground 2213 as zeroleather
            @ignore zeroleather
        endwhile
        while findtype 7127 ground 2213 as zeroboard
            @ignore zeroboard
        endwhile
        while not casting and not targetexists and findtype "43206|54230|44985|glass display|20049|Pig Iron|blackrock fragment|gargish fragment|18705|55247|49482|53694|54570|53696|53876|50612|55420|53280|53473|54831|50278|49528|bottle set|entrail bucket|mounted stalaghorn|sea glass bulb|juggling daggers|st patricks cross|divination orb|mirror display|murder of crows|charmed cobra|prodigy fiddle|wilting rose belljar|scale of balance|screaming mandrake|statue of the siren|the final hour|55204|specimen jars|bird cage|widows grief|54684|27612|49223|54591|54601|54718|19948|58325|19959|19822|49730|49729|19944|19949|47613|47612|47611|47610|47611|3986|3966|cathedral tapestry|Darkscale tapestry|large painting|landscape painting|portrait painting|figurine|statue|20291|44987|49730|47107|18653|45127|20103|47103|29363|47105|29361|43453|5899|47109|45250|41509|43447|18657|4025|51308|45156|51304|45214|28769|28799|28803|28765|45211|45248|51259|45220|51328|45218|3842|51327|45222|45241|51336|11858|51375|45282|54722|45255|45246|28795|44983|45235|45251|45238|51258|51314|28761|45236|51260|54718|18400|58325|45252|18656|47111|3839|45239|45242|45254|45281|45247|42241|45216|28775|51321|3838|51318|5901|5905|45259|5903|48407|51302|4248|27611|15296|43166|5359|5981|4026|3985|25359|17686|3836|17087|5356|29030|24434|22336|29036|3843|29025|51098|29034|8826|51094|576|3827|22326|45315|3891|2539|39898|39896|39892|39918|39911|39916|39897|39905|39891|39917|39912|39909|39889|31047|31017|31049|31019|31055|31051|31053|31025|31027|31031|31041|54717|31021|31011|31023|31029|31043|31003|31035|31033|31045|31037|31002|20006|31169|31006|30999|31012|31009|30996|7109|7107|31128|31188|20014|31014|31004|31142|31001|31000|37181|31010|30998|31172|30988|30997|31038|31141|7947|20008|31005|31191|31008|31007|30994|30993|31182|30989|20012|31186|31178|31015|30991|20010|20016|31184|31190|30990|30995|31176|31180|30992|31130|5207|7031|7026|7034|7033|7027|7035|7029|5078|5063|5059|5105|5060|5138|5129|5201|5142|5143|5076|5106|7610|5139|5090|5103|5132|7177|5061|7181|7179|3920|5042|5127|5117|5185|5125|3938|5177|3937|5044|5121|3915|3909|3568|3932|5123|5144|5119|5056|5135|5187|5074|5089|3934|3913|3917|3721|5075|5046|5049|7170|5146|5205|5203|5115|5204|5040|5179|5070|5182|5085|5181|3719|7173|5131|3911|5101|7175|7169|3713|5112|22187|9917|3859|3862|3878|3865|3856|3873|3877|3834|3742|3762|3740|3763|10245|3572|3573|3571|3885|12686|19985|19981|19984|19982|19983|19991|19989|19986|19987|19988|19994|19995|19992|19993|19990|19980|19977|19976|19978|19979|43423|7154|4225|7127|3861" ground -1 -1 2 as eatloot
            hotkey 'Grab Item' 
            target eatloot
            if insysmsg "Invalid or inaccessible item."
                @ignore eatloot
            endif            
            while queued
                //donothing
            endwhile 
        endwhile
    endif
endif

if dead     
    overhead "I need a new body..." 88
    stop
endif
loop